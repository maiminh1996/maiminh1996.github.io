<!doctype html>
<html>
  <head>
    <!--
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta name="description" content="My personal website" />
    <meta name="author" content="Nguyen Anh Minh MAI" />
    -->
    <!--<link href="./images/mainguyenanhminh.ico" rel="shortcut icon" type="image/x-icon" />-->
    <!--
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    />
    -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Overlock"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css">
    <!--
    <script>
      setColors = function() {
        let images = document.querySelectorAll("img");
        images.forEach(elem => elem.classList.add("img-fluid", "rounded"));

        let imagecaption = document.querySelectorAll("figcaption");
        imagecaption.forEach(elem => elem.classList.add("initialism"));
      };
      window.onload = setColors;
    </script>
    -->
    <!--
    <style>
      html,
      body {
        height: 100%;
      }
      .wrapper {
        min-height: 100%;
        margin-bottom: -100px;
        padding-bottom: 100px;
      }
      footer {
        height: 100px;
      }
      a {
        color: #ffc107 !important;
      }
      code {
        color: #17a2b8 !important;
      }
      a:hover {
        text-decoration: none;
      }
      * {
        font-family: "Overlock", cursive;
      }
    </style>
    -->












    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel = "icon" href = "../imgs/icon_bar.png"> 
    <title>Nguyen Anh Minh MAI</title>

    <link rel="stylesheet" href="../stylesheets/styles.css">
    <link rel="stylesheet" href="../stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper1">
      <header>
        <h2>Nguyen Anh Minh MAI</h2>
        <a href="https://www.linkedin.com/in/nguyen-anh-minh-mai/ " target="_blank"">
        <img class="w-50 rounded" src="../minh.png">
        </a>
        
        
        

        <h2><a href="../index.html#" class="border-warning bg-dark btn"><kbd1>Home</kbd1></a> <a href="./index.html#" class="border-warning bg-dark btn"><kbd1>Publs</kbd1></a> <a href="../blog.html#" class="border-warning bg-dark btn"><kbd1>Blog</kbd1></a> <a href="../memories.html#" class="border-warning bg-dark btn"><kbd1>Mems</kbd1></a></h2>
        
      </header>
    </div>
    <div class="wrapper">
      <section>
        <h1><a href="../blog.html">&larr;</a></h1>
        <p><h2>Convert KITTI dataset to ROS bag file the easy way</h2>
        Thanks for <a href="https://github.com/tomas789/kitti2bag" target="_blank">kitti2bag</a>!</p>
        <p>Here we need python2 and many packages following:</p>
        
        <pre><code>pip install pykitti kitti2bag</code></pre>
        <p>Here we use "<b>synced+rectified</b>" which refers to the processed data where images have been <b>rectified</b> and <b>undistorted</b> and where the data frame numbers correspond across all sensor streams.</p>

        <p>So get a set of raw data from <a href="http://www.cvlibs.net/datasets/kitti/raw_data.php" target="_blank">here</a> (ex: 2011_09_26_drive_0001 [synced+rectified data] [calibration]) and then unzip it.</p>

        <p>Or just simple:</p>

        <pre>
<code>wget https://s3.eu-central-1.amazonaws.com/avg-kitti/raw_data/2011_09_26_drive_0001/2011_09_26_drive_0001_sync.zip
wget https://s3.eu-central-1.amazonaws.com/avg-kitti/raw_data/2011_09_26_calib.zip
unzip 2011_09_26_drive_0001_sync.zip
unzip 2011_09_26_calib.zip</code></pre>
        <p>Then we have a raw data folder like this:</p>

        <pre>
<code>2011_09_26/
└── 2011_09_26_drive_0001_sync/
    ├── image_00/
    │   └── data/
    ├── image_01/
    │   └── data/
    ├── image_02/
    │   └── data/
    ├── image_03/
    │   └── data/
    ├── oxts/
    │   └── data/
    └── velodyne_points/
        └── data/
└── calib_cam_to_cam.txt    
└── calib_imu_to_velo.txt
└── calib_velo_to_cam.txt</code></pre>

        <p>Run this command for create the .bag file</p>

        <pre><code>kitti2bag -t 2011_09_26 -r 0001 raw_synced .</code></pre>

        <p>Then we have a .bag file like this kitti_2011_09_26_drive_0001_synced.bag.</p>

        <p>Related works:</p>
        <ul>
          <li><a href="https://github.com/utiasSTARS/pykitti target="_blank">pykitti</a> is very simple library for dealing with KITTI dataset in python.</li>
          <li><a href="https://github.com/tomas789/kitti_player" target="_blank">kitti_player</a> allows to play dataset directly. No bag file needed. I found difficult to get it work. Some bug fixed can be found in my fork of kitti_player but still not good enough.</li>
        </ul>

      </section>
      <footer>
        <!--<p>This project is maintained by <a href="http://github.com/orderedlist">Steve Smith</a></p>-->
        <small>
        Theme based</a> on <a href="https://github.com/orderedlist/minimal">minimal</a> by <a href="https://github.com/orderedlist">orderedlist</a></small>
        <br>
        <small>&copy; 2019 Nguyen Anh Minh MAI</small>
        
      </footer>
      
    </div>
    <script src="javascripts/scale.fix.js"></script>
  </body>
</html>
