<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Installing OpenCV | MAI Minh's Page </title> <meta name="author" content="N. A. Minh MAI"> <meta name="description" content="Computer Science Blog | Nguyen Anh Minh MAI, AI Research Engineer "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="/assets/img/logo_minh.png?a7cf9880c438f18bb5f6425fa92f16c2"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://maiminh1996.github.io//blog/2022/installing-opencv/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> MAI Minh's Page </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/publications/">publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/repositories/">repositories</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Installing OpenCV</h1> <p class="post-meta"> Created in July 31, 2022 by MAI Minh </p> <p class="post-tags"> <a href="/blog/2022"> <i class="fa-solid fa-calendar fa-sm"></i> 2022 </a>   ·   <a href="/blog/tag/installing"> <i class="fa-solid fa-hashtag fa-sm"></i> installing</a>   <a href="/blog/tag/opencv"> <i class="fa-solid fa-hashtag fa-sm"></i> opencv</a>   <a href="/blog/tag/image-processing"> <i class="fa-solid fa-hashtag fa-sm"></i> image-processing</a>   <a href="/blog/tag/computer-vision"> <i class="fa-solid fa-hashtag fa-sm"></i> computer-vision</a>   <a href="/blog/tag/python"> <i class="fa-solid fa-hashtag fa-sm"></i> python</a>   <a href="/blog/tag/c"> <i class="fa-solid fa-hashtag fa-sm"></i> c++</a>   <a href="/blog/tag/cmake"> <i class="fa-solid fa-hashtag fa-sm"></i> cmake</a>   ·   <a href="/blog/category/test-posts"> <i class="fa-solid fa-tag fa-sm"></i> test-posts</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <hr> <h3 id="introduction">Introduction</h3> <p>OpenCV is a powerful computer vision library used by developers worldwide. In this tutorial, we will walk you through the steps to install/ upgrade/ uninstall any version of <a href="https://github.com/opencv/opencv/releases" rel="external nofollow noopener" target="_blank">OpenCV</a> on Linux by building from sources or using package manager, focusing on Python and C++ languages.</p> <h3 id="install">Install</h3> <h4 id="build-from-sources">Build from sources</h4> <p>To build OpenCV from sources, follow these steps:</p> <p>Create/ activate the Python environment and make sure to install NumPy in the environment.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda create <span class="nt">-n</span> test_opencv <span class="nv">python</span><span class="o">=</span>3.9
conda activate test_opencv
which python
<span class="c"># /home/$(whoami)/anaconda3/envs/test_opencv/bin/</span>
python <span class="nt">--version</span>
<span class="c"># Python 3.9.17</span>
pip <span class="nb">install </span>numpy
</code></pre></div></div> <p>Update and upgrade the system packages, and install essential build tools and libraries needed for OpenCV.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt upgrade
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>build-essential
<span class="nb">sudo </span>apt <span class="nb">install </span>gcc cmake git wget unzip

<span class="nb">sudo </span>apt <span class="nb">install </span>libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev
<span class="nb">sudo </span>apt <span class="nb">install </span>libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev
<span class="nb">sudo </span>apt <span class="nb">install </span>libtiff5-dev libeigen3-dev libtheora-dev libvorbis-dev libxvidcore-dev libx264-dev
</code></pre></div></div> <p>Clone the official <a href="https://github.com/opencv/opencv/releases" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">opencv/opencv releases</code></a> and <a href="https://github.com/opencv/opencv_contrib/tags" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">opencv/opencv_contrib tags</code></a> repositories and checkout the desired version.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/opencv/opencv ~/opencv
git clone https://github.com/opencv/opencv_contrib ~/opencv_contrib
<span class="nb">cd</span> ~/opencv/ <span class="o">&amp;&amp;</span> git pull origin master <span class="o">&amp;&amp;</span> git checkout &lt;version&gt;
<span class="nb">cd</span> ~/opencv_contrib/ <span class="o">&amp;&amp;</span> git pull origin master <span class="o">&amp;&amp;</span> git checkout &lt;version&gt;
</code></pre></div></div> <p>If desired, customize the build configuration using CMake (python module for example). Adjust the options based on our specific requirements.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/opencv/
<span class="nb">mkdir</span> <span class="nt">-p</span> build <span class="o">&amp;&amp;</span> <span class="nb">cd </span>build
cmake <span class="nt">-D</span> <span class="nv">BUILD_TIFF</span><span class="o">=</span>ON <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">WITH_CUDA</span><span class="o">=</span>OFF <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">ENABLE_AVX</span><span class="o">=</span>OFF <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">WITH_OPENGL</span><span class="o">=</span>OFF <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">WITH_OPENCL</span><span class="o">=</span>OFF <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">WITH_IPP</span><span class="o">=</span>OFF <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">WITH_TBB</span><span class="o">=</span>ON <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">BUILD_TBB</span><span class="o">=</span>ON <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">WITH_EIGEN</span><span class="o">=</span>OFF <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">WITH_V4L</span><span class="o">=</span>OFF <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">WITH_VTK</span><span class="o">=</span>OFF <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">BUILD_TESTS</span><span class="o">=</span>OFF <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">BUILD_PERF_TESTS</span><span class="o">=</span>OFF <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">CMAKE_BUILD_TYPE</span><span class="o">=</span>RELEASE <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">CMAKE_INSTALL_PREFIX</span><span class="o">=</span>/usr/local <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">OPENCV_EXTRA_MODULES_PATH</span><span class="o">=</span>~/opencv_contrib/modules <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">PYTHON3_EXECUTABLE</span><span class="o">=</span><span class="si">$(</span>which python<span class="si">)</span> <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">PYTHON_INCLUDE_DIR</span><span class="o">=</span><span class="si">$(</span>python <span class="nt">-c</span> <span class="s2">"from distutils.sysconfig import get_python_inc; print(get_python_inc())"</span><span class="si">)</span> <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">PYTHON3_PACKAGES_PATH</span><span class="o">=</span><span class="si">$(</span>python <span class="nt">-c</span> <span class="s2">"from distutils.sysconfig import get_python_lib; print(get_python_lib())"</span><span class="si">)</span> <span class="se">\</span>
      <span class="nt">-D</span> <span class="nv">PYTHON_DEFAULT_EXECUTABLE</span><span class="o">=</span><span class="si">$(</span>which python<span class="si">)</span> <span class="se">\</span>
      ~/opencv/
<span class="c"># General configuration for OpenCV 3.4.16 =====================================</span>
<span class="c"># --   Version control:               3.4.16</span>
<span class="c"># </span>
<span class="c"># ...</span>
<span class="c"># </span>
<span class="c"># --   C/C++:</span>
<span class="c"># --     Built as dynamic libs?:      YES</span>
<span class="c"># --     C++11:                       YES</span>
<span class="c"># </span>
<span class="c"># ...</span>
<span class="c"># </span>
<span class="c"># --   Python 3:</span>
<span class="c"># --     Interpreter:                 /home/$(whoami)/anaconda3/envs/test_opencv/bin/python3 (ver 3.9.17)</span>
<span class="c"># --     Libraries:                   /home/$(whoami)/anaconda3/envs/test_opencv/lib/libpython3.9.so (ver 3.9.17)</span>
<span class="c"># --     numpy:                       /home/$(whoami)/.local/lib/python3.9/site-packages/numpy/core/include (ver 1.23.4)</span>
<span class="c"># --     install path:                /home/$(whoami)/anaconda3/envs/test_opencv/lib/python3.9/site-packages/cv2/python-3.9</span>
<span class="c"># </span>
<span class="c"># ...</span>
<span class="c"># </span>
<span class="c"># Install to:                    /usr/local</span>
</code></pre></div></div> <p>Start the build process using make, and then install OpenCV to the system.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make <span class="nt">-j</span><span class="si">$(</span><span class="nb">nproc</span> <span class="nt">--all</span><span class="si">)</span> <span class="c"># jcore check cores: grep 'cpu cores' /proc/cpuinfo | uniq hoac nproc --</span>
<span class="c"># [100%] Linking CXX shared module ../../lib/python3/cv2.cpython-39-x86_64-linux-gnu.so</span>
<span class="nb">sudo </span>make <span class="nb">install</span>
<span class="c"># -- Installing: </span>
<span class="c"># -- Set runtime path of "..." to "/usr/local/lib"</span>
<span class="c"># -- Installing: /home/$(whoami)/anaconda3/envs/test_opencv/lib/python3.9/site-packages/cv2/python-3.9/cv2.cpython-39-x86_64-linux-gnu.so</span>
<span class="c"># -- Set runtime path of "/home/$(whoami)/anaconda3/envs/test_opencv/lib/python3.9/site-packages/cv2/python-3.9/cv2.cpython-39-x86_64-linux-gnu.so" to "/usr/local/lib"</span>
</code></pre></div></div> <p>Configure the dynamic linker to look for shared libraries in the OpenCV installation path, and verify the installed version.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Add /usr/local/lib into cache /etc/ld.so.cache </span>
<span class="c"># by modifying /etc/ld.so.conf or /etc/ld.so.conf.d/opencv.conf file</span>
<span class="nb">sudo </span>sh <span class="nt">-c</span> <span class="s1">'echo "/usr/local/lib" &gt; /etc/ld.so.conf.d/opencv.conf'</span>
<span class="c"># Update cache /etc/ld.so.cache</span>
<span class="nb">sudo </span>ldconfig
<span class="c"># Check opencv shared files in cache</span>
<span class="c"># ldconfig -p | grep opencv</span>
<span class="c"># Or using LD_LIBRARY_PATH</span>
<span class="c"># echo 'export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/usr/local/lib"' &gt;&gt; ~/.bashrc</span>

<span class="c"># /usr/local/lib/pkgconfig/opencv</span>
pkg-config <span class="nt">--modversion</span> opencv
<span class="c"># 3.4.16</span>
pkg-config <span class="nt">--modversion</span> opencv4 
<span class="c"># /usr/local/lib/pkgconfig/opencv4</span>
</code></pre></div></div> <p>If we want to use OpenCV in other Python env, create a symbolic link the shared file <code class="language-plaintext highlighter-rouge">~/opencv/build/lib/python3/cv2.cpython-39-x86_64-linux-gnu.so</code> to the Python bindings in our pip/ anaconda environment.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ln</span> <span class="nt">-s</span> ~/opencv/build/lib/python3/cv2.cpython-38-x86_64-linux-gnu.so ~/anaconda3/envs/test_opencv/lib/python3.9/site-packages/cv2.so
python <span class="nt">-c</span> <span class="s2">"import cv2; print(cv2.__version__)"</span>
<span class="c"># 3.4.16</span>
</code></pre></div></div> <p>Note that we can use the following Python command to find the location where the cv2 package is installed:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python -c "import cv2; print(cv2.__file__)"
</code></pre></div></div> <hr> <p>In summary, my bash script <a href="https://maiminh1996.github.io/scripts/opencv.sh">opencv.sh</a> simplifies the installation and upgrade of OpenCV. By executing the script with the desired OpenCV version, we can build OpenCV from sources with custom configurations, enabling us to leverage the latest features and capabilities in our computer vision projects.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Download opencv.sh</span>
wget <span class="nt">--no-check-certificate</span> <span class="nt">--content-disposition</span> https://maiminh1996.github.io/scripts/opencv.sh <span class="nt">-O</span> opencv.sh

<span class="c"># Run this script for install opencv &lt;version&gt;=4.6.0</span>
<span class="nb">chmod</span> +x opencv.sh
./opencv.sh &lt;version&gt;
</code></pre></div></div> <hr> <h4 id="package-manager">Package manager</h4> <p>Alternatively, we can use pip or conda to manage packages:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda activate test_opencv
which python
<span class="c"># /home/$(whoami)/anaconda3/envs/test_opencv/bin/python</span>
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>opencv-python<span class="o">==</span>&lt;version&gt;
pip uninstall opencv-contrib-python<span class="o">==</span>&lt;version&gt;
</code></pre></div></div> <h3 id="upgrade">Upgrade</h3> <p>Activate the Python environment and ensure we have NumPy installed in the environment.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda activate test_opencv
which python
<span class="c"># /home/$(whoami)/anaconda3/envs/test_opencv/bin/</span>
python <span class="nt">--version</span>
<span class="c"># Python 3.9.17</span>
pip <span class="nb">install </span>numpy
</code></pre></div></div> <p>Next, upgrade to the desired version of OpenCV from <a href="https://github.com/opencv/opencv/releases" rel="external nofollow noopener" target="_blank">OpenCV Releases</a>. Use the following commands to download the upgrade script and execute it.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget <span class="nt">--no-check-certificate</span> <span class="nt">--content-disposition</span> https://maiminh1996.github.io/scripts/opencv.sh <span class="nt">-O</span> opencv.sh

<span class="nb">chmod</span> +x opencv.sh
./opencv.sh &lt;version&gt;
</code></pre></div></div> <h3 id="uninstall">Uninstall</h3> <p>If we built OpenCV from source and still have the build folder, run the following commands to uninstall:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/opencv/build
<span class="nb">sudo </span>make uninstall
</code></pre></div></div> <p>If we no longer have the build directory, we can manually remove OpenCV files and configurations:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>find / <span class="se">\</span>
  <span class="se">\(</span> <span class="nt">-path</span> /snap <span class="nt">-o</span> <span class="se">\</span>
     <span class="nt">-path</span> /proc <span class="nt">-o</span> <span class="se">\</span>
     <span class="nt">-path</span> /var <span class="nt">-o</span> <span class="se">\</span>
     <span class="nt">-path</span> /tmp <span class="nt">-o</span> <span class="se">\</span>
     <span class="nt">-path</span> /run <span class="se">\)</span> <span class="nt">-prune</span> <span class="se">\</span>
  <span class="nt">-o</span> <span class="nt">-iname</span> <span class="s2">"*opencv*"</span> | <span class="nb">grep</span> <span class="nt">-i</span> opencv
<span class="nb">sudo </span>find / <span class="se">\</span>
  <span class="se">\(</span> <span class="nt">-path</span> /snap <span class="nt">-o</span> <span class="se">\</span>
     <span class="nt">-path</span> /proc <span class="nt">-o</span> <span class="se">\</span>
     <span class="nt">-path</span> /var <span class="nt">-o</span> <span class="se">\</span>
     <span class="nt">-path</span> /tmp <span class="nt">-o</span> <span class="se">\</span>
     <span class="nt">-path</span> /run <span class="se">\)</span> <span class="nt">-prune</span> <span class="se">\</span>
  <span class="nt">-o</span> <span class="nt">-iname</span> <span class="s2">"*cv2*.so"</span> | <span class="nb">grep</span> <span class="nt">-i</span> cv2
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/local/bin/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/local/include/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/local/lib/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/local/lib/cmake/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/local/lib/pkgconfig/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/local/share/licenses/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/local/share/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/local/share/<span class="k">*</span>OpenCV<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /etc/ld.so.conf.d/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/bin/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/include/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/lib/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/lib/x86_64-linux-gnu/cmake/opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/lib/pkgconfig/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /usr/lib/x86_64-linux-gnu/pkgconfig/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> <span class="si">$(</span>python <span class="nt">-c</span> <span class="s2">"from distutils.sysconfig import get_python_lib; print(get_python_lib())"</span><span class="si">)</span>/<span class="k">*</span>opencv<span class="k">*</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> <span class="si">$(</span>python <span class="nt">-c</span> <span class="s2">"from distutils.sysconfig import get_python_lib; print(get_python_lib())"</span><span class="si">)</span>/<span class="k">*</span>cv2<span class="k">*</span>
<span class="c"># /home/$(whoami)/anaconda3/envs/test_opencv/lib/python3.9/site-packages/*opencv*</span>
<span class="c"># /home/$(whoami)/anaconda3/envs/test_opencv/lib/python3.9/site-packages/*cv2*</span>
<span class="c"># sudo find /home/$(whoami)/anaconda3/envs/test_opencv/lib/ -iname "*opencv*" -exec rm -i {} \;</span>
<span class="c"># sudo find /home/$(whoami)/anaconda3/envs/test_opencv/lib/ -iname "*cv2*" -exec rm -i {} \;</span>
</code></pre></div></div> <p>Also, remove any Python-related files:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip uninstall opencv-python
pip uninstall opencv-contrib-python
conda uninstall opencv-python
conda uninstall opencv-contrib-python
</code></pre></div></div> <h3 id="conclusion">Conclusion</h3> <p>We have successfully installed, upgraded, and uninstalled OpenCV on your Linux system. We now have a fully functional OpenCV installation for our Python and C++ projects. Additionally, managing different versions of OpenCV is now more straightforward, allowing you to switch between versions as needed.</p> <p>Note that building from sources provides control over configuration, multiple versions, and integration with custom libraries. However, it’s complex and requires maintenance. Meanwhile, using package manager (pip/ conda) offers simplicity, dependency resolution, and easy updates. But limited customization and potential version conflicts. So, choose based on our needs: build for control and flexibility, or use a package manager for convenience and quick setup.</p> <h3 id="references">References</h3> <ol> <li>OpenCV Releases: <a href="https://github.com/opencv/opencv/releases" rel="external nofollow noopener" target="_blank">github.com/opencv/opencv/releases</a> </li> <li>OpenCV Contrib Tags: <a href="https://github.com/opencv/opencv_contrib/tags" rel="external nofollow noopener" target="_blank">github.com/opencv/opencv_contrib/tags</a> </li> <li>OpenCV 3.4.16 Installation in Linux: <a href="https://docs.opencv.org/3.4.16/d7/d9f/tutorial_linux_install.html" rel="external nofollow noopener" target="_blank">docs.opencv.org/3.4.16/d7/d9f/tutorial_linux_install.html</a> </li> </ol> <h3 id="appendix">Appendix</h3> <h4 id="errors">Errors</h4> <h5 id="could-not-find-a-package-configuration-file-provided-by-opencv">Could not find a package configuration file provided by “OpenCV”</h5> <p>Could not find a package configuration file provided by “OpenCV” with any of the following names: <code class="language-plaintext highlighter-rouge">OpenCVConfig.cmake</code>, <code class="language-plaintext highlighter-rouge">opencv-config.cmake</code></p> <p>Add the installation prefix of “OpenCV” to <code class="language-plaintext highlighter-rouge">CMAKE_MODULE_PATH</code> or <code class="language-plaintext highlighter-rouge">CMAKE_PREFIX_PATH</code> or set <code class="language-plaintext highlighter-rouge">OpenCV_DIR</code> to a directory containing one of the above files. If “OpenCV” provides a separate development package or SDK, be sure it has been installed.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">set</span><span class="o">(</span>CMAKE_MODULE_PATH <span class="k">${</span><span class="nv">PROJECT_SOURCE_DIR</span><span class="k">}</span>/cmake/modules<span class="o">)</span>
<span class="nb">set</span><span class="o">(</span>CMAKE_PREFIX_PATH /usr/local/lib/cmake<span class="o">)</span> <span class="c"># "path_to_cmake"</span>
</code></pre></div></div> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/c-testing-with-gtest/">C++ Testing with GTest</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/tmux/">Tmux: An Introduction to Terminal Multiplexing</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/vim/">Basic Vim Usage</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/python-testing-with-pytest/">Python Testing with pytest</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/docker-inside-vs-code/">Docker inside VS Code</a> </li> <div id="disqus_thread" style="max-width: 930px; margin: 0 auto;"> <script type="text/javascript">var disqus_shortname="https-maiminh1996-github-io-5",disqus_identifier="/blog/2022/installing-opencv",disqus_title="Installing OpenCV";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();</script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by Disqus.</a> </noscript> </div> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 N. A. Minh MAI. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"about",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-blog",title:"blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"nav-publications",title:"publications",description:"",section:"Navigation",handler:()=>{window.location.href="/publications/"}},{id:"nav-projects",title:"projects",description:"A growing collection of your cool projects.",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-cv",title:"cv",description:"",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"dropdown-publications",title:"publications",description:"",section:"Dropdown",handler:()=>{window.location.href=""}},{id:"dropdown-projects",title:"projects",description:"",section:"Dropdown",handler:()=>{window.location.href=""}},{id:"dropdown-repositories",title:"repositories",description:"",section:"Dropdown",handler:()=>{window.location.href=""}},{id:"dropdown-blog",title:"blog",description:"",section:"Dropdown",handler:()=>{window.location.href="/blog/"}},{id:"post-c-testing-with-gtest",title:"C++ Testing with GTest",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2023/c-testing-with-gtest/"}},{id:"post-tmux-an-introduction-to-terminal-multiplexing",title:"Tmux: An Introduction to Terminal Multiplexing",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2023/tmux/"}},{id:"post-basic-vim-usage",title:"Basic Vim Usage",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2023/vim/"}},{id:"post-python-testing-with-pytest",title:"Python Testing with pytest",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2023/python-testing-with-pytest/"}},{id:"post-docker-inside-vs-code",title:"Docker inside VS Code",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2023/docker-inside-vs-code/"}},{id:"post-expert-advice-for-successful-research",title:"Expert Advice for Successful Research",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/research/"}},{id:"post-good-advice-and-tips",title:"Good advice and tips",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/good-advice-and-tips/"}},{id:"post-docker",title:"Docker",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/docker/"}},{id:"post-loss-function",title:"Loss function",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/loss-function/"}},{id:"post-glossary-ml",title:"Glossary ML",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/glossary/"}},{id:"post-disable-gradient-computation",title:"Disable gradient computation",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/disable-gradient-computation/"}},{id:"post-mastering-google-colab-tips-and-tricks",title:"Mastering Google Colab: Tips and Tricks",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/google-colab/"}},{id:"post-linear-algebra",title:"linear algebra",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/algebra/"}},{id:"post-python-data-structure",title:"Python data structure",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/python-data-structure/"}},{id:"post-math",title:"Math",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/math/"}},{id:"post-git-commit-message",title:"git Commit Message",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/git-commit-message/"}},{id:"post-git-best-pratice",title:"git best pratice",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/git-best-pratice/"}},{id:"post-setting-up-vs-code",title:"Setting up VS Code",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/vscode/"}},{id:"post-git-synthesis",title:"Git Synthesis",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/git/"}},{id:"post-installing-cuda",title:"Installing CUDA",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/installing-cuda/"}},{id:"post-installing-opencv",title:"Installing OpenCV",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/installing-opencv/"}},{id:"post-pihole-camera",title:"Pihole Camera",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2022/pihole-camera/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%6D%61%69%6E%67%75%79%65%6E%61%6E%68%6D%69%6E%68%31%39%39%36@%67%6D%61%69%6C.%63%6F%6D","_blank")}},{id:"socials-google-scholar",title:"Google Scholar",section:"Socials",handler:()=>{window.open("https://scholar.google.com/citations?user=lxTC9IIAAAAJ","_blank")}},{id:"socials-github",title:"GitHub",section:"Socials",handler:()=>{window.open("https://github.com/maiminh1996","_blank")}},{id:"socials-linkedin",title:"LinkedIn",section:"Socials",handler:()=>{window.open("https://www.linkedin.com/in/nguyen-anh-minh-mai","_blank")}},{id:"socials-rss",title:"RSS Feed",section:"Socials",handler:()=>{window.open("/feed.xml","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>